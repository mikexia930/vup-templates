# NestJS ÂêéÁ´ØÂºÄÂèëÊ®°Êùø

Âü∫‰∫é NestJS +
TypeScript ÁöÑÁé∞‰ª£ÂåñÂêéÁ´ØÂºÄÂèëÊ®°ÊùøÔºåÊîØÊåÅÊ®°ÂùóÂåñÊû∂ÊûÑ„ÄÅ‰æùËµñÊ≥®ÂÖ•„ÄÅÊµãËØïÂíåÂÆåÊï¥ÁöÑÂºÄÂèëÂ∑•ÂÖ∑Èìæ„ÄÇ

## üöÄ ÊäÄÊúØÊ†à

### Ê†∏ÂøÉÊ°ÜÊû∂

- **NestJS** - Âü∫‰∫é Node.js ÁöÑ‰ºÅ‰∏öÁ∫ßÂ∫îÁî®Ê°ÜÊû∂
- **TypeScript** - JavaScript ÁöÑË∂ÖÈõÜÔºåÊèê‰æõÁ±ªÂûãÂÆâÂÖ®
- **Express** - Âü∫‰∫é Express ÁöÑ HTTP ÊúçÂä°Âô®

### Êï∞ÊçÆÂ∫ì

- **MariaDB** - ÂºÄÊ∫êÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì
- **Redis** - ÂÜÖÂ≠òÊï∞ÊçÆÁªìÊûÑÂ≠òÂÇ®

### ÂºÄÂèëÂ∑•ÂÖ∑

- **Jest** - JavaScript ÊµãËØïÊ°ÜÊû∂
- **ESLint** - ÂèØÊèíÊãîÁöÑ JavaScript ‰ª£Á†ÅÊ£ÄÊü•Â∑•ÂÖ∑
- **Prettier** - ‰ª£Á†ÅÊ†ºÂºèÂåñÂ∑•ÂÖ∑
- **Docker** - ÂÆπÂô®ÂåñÈÉ®ÁΩ≤

### ÂäüËÉΩÁâπÊÄß

- **‰æùËµñÊ≥®ÂÖ•** - ÂÆåÊï¥ÁöÑ IoC ÂÆπÂô®
- **Ê®°ÂùóÂåñÊû∂ÊûÑ** - Ê∏ÖÊô∞ÁöÑ‰ª£Á†ÅÁªÑÁªáÁªìÊûÑ
- **Ë£ÖÈ•∞Âô®** - Âü∫‰∫éË£ÖÈ•∞Âô®ÁöÑÁºñÁ®ãÊ®°Âºè
- **‰∏≠Èó¥‰ª∂** - ËØ∑Ê±ÇÂ§ÑÁêÜ‰∏≠Èó¥‰ª∂
- **ÂÆàÂç´** - ËÆ§ËØÅÂíåÊéàÊùÉ
- **Êã¶Êà™Âô®** - ËØ∑Ê±Ç/ÂìçÂ∫îÊã¶Êà™
- **ÁÆ°ÈÅì** - Êï∞ÊçÆÈ™åËØÅÂíåËΩ¨Êç¢

## üìö ÊñáÊ°£Âú∞ÂùÄ

### Ê†∏ÂøÉÊäÄÊúØ

- [NestJS ÂÆòÊñπÊñáÊ°£](https://nestjs.com/)
- [TypeScript ÂÆòÊñπÊñáÊ°£](https://www.typescriptlang.org/)
- [Express ÂÆòÊñπÊñáÊ°£](https://expressjs.com/)

### Êï∞ÊçÆÂ∫ì

- [MariaDB ÂÆòÊñπÊñáÊ°£](https://mariadb.org/documentation/)
- [Redis ÂÆòÊñπÊñáÊ°£](https://redis.io/docs/)

### ÊµãËØïÊ°ÜÊû∂

- [Jest ÂÆòÊñπÊñáÊ°£](https://jestjs.io/)
- [Supertest ÂÆòÊñπÊñáÊ°£](https://github.com/visionmedia/supertest)

### ÂºÄÂèëÂ∑•ÂÖ∑

- [ESLint ÂÆòÊñπÊñáÊ°£](https://eslint.org/)
- [Prettier ÂÆòÊñπÊñáÊ°£](https://prettier.io/)
- [Docker ÂÆòÊñπÊñáÊ°£](https://docs.docker.com/)

## üõ†Ô∏è ‰ΩøÁî®ÊñπÂºè

### ÂÆâË£Ö‰æùËµñ

```bash
pnpm install
```

### ÂºÄÂèëÊ®°Âºè

```bash
# ÂêØÂä®ÂºÄÂèëÊúçÂä°Âô®ÔºàÁõëÂê¨Êñá‰ª∂ÂèòÂåñÔºâ
pnpm dev:watch

# ÂêØÂä®ÂºÄÂèëÊúçÂä°Âô®
pnpm dev

# Ë∞ÉËØïÊ®°Âºè
pnpm start:debug
```

### ÊûÑÂª∫È°πÁõÆ

```bash
# ÊûÑÂª∫Áîü‰∫ßÁâàÊú¨
pnpm build

# ÂêØÂä®Áîü‰∫ßÊúçÂä°Âô®
pnpm start:prod
```

### ÊµãËØï

```bash
# ËøêË°åÂçïÂÖÉÊµãËØï
pnpm test

# ÁõëÂê¨Ê®°ÂºèËøêË°åÊµãËØï
pnpm test:watch

# ÁîüÊàêÊµãËØïË¶ÜÁõñÁéáÊä•Âëä
pnpm test:cov

# Ë∞ÉËØïÊµãËØï
pnpm test:debug

# ËøêË°åÁ´ØÂà∞Á´ØÊµãËØï
pnpm test:e2e
```

### ‰ª£Á†ÅÊ£ÄÊü•

```bash
# Ê£ÄÊü•‰ª£Á†ÅË¥®Èáè
pnpm lint

# Ëá™Âä®‰øÆÂ§çÈóÆÈ¢ò
pnpm lint:fix
```

### ‰ª£Á†ÅÊ†ºÂºèÂåñ

```bash
# Ê†ºÂºèÂåñ‰ª£Á†Å
pnpm format

# Ê£ÄÊü•Ê†ºÂºè
pnpm format:check
```

## üê≥ Docker ÊîØÊåÅ

### ÂêØÂä®ÊúçÂä°

```bash
# ÂêØÂä®ÊâÄÊúâÊúçÂä°
pnpm docker:up

# ÂêØÂä®Êï∞ÊçÆÂ∫ìÊúçÂä°
pnpm docker:db

# ÂêØÂä®Â∫îÁî®ÊúçÂä°
pnpm docker:app
```

### ÁÆ°ÁêÜÊúçÂä°

```bash
# ÂÅúÊ≠¢ÊâÄÊúâÊúçÂä°
pnpm docker:down

# ÈáçÊñ∞ÊûÑÂª∫ÈïúÂÉè
pnpm docker:build

# Êü•ÁúãÊúçÂä°Êó•Âøó
pnpm docker:logs
```

## üìÅ È°πÁõÆÁªìÊûÑ

```
nest-template/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app.controller.spec.ts  # ÊéßÂà∂Âô®ÊµãËØï
‚îÇ   ‚îú‚îÄ‚îÄ app.controller.ts       # Â∫îÁî®ÊéßÂà∂Âô®
‚îÇ   ‚îú‚îÄ‚îÄ app.module.ts          # Â∫îÁî®Ê®°Âùó
‚îÇ   ‚îú‚îÄ‚îÄ app.service.ts         # Â∫îÁî®ÊúçÂä°
‚îÇ   ‚îî‚îÄ‚îÄ main.ts                # Â∫îÁî®ÂÖ•Âè£
‚îú‚îÄ‚îÄ test/
‚îÇ   ‚îú‚îÄ‚îÄ app.e2e-spec.ts        # Á´ØÂà∞Á´ØÊµãËØï
‚îÇ   ‚îî‚îÄ‚îÄ jest-e2e.json          # E2E ÊµãËØïÈÖçÁΩÆ
‚îú‚îÄ‚îÄ docker-compose.yml         # Docker ÁºñÊéíÊñá‰ª∂
‚îú‚îÄ‚îÄ nest-cli.json              # NestJS CLI ÈÖçÁΩÆ
‚îú‚îÄ‚îÄ package.json               # È°πÁõÆÈÖçÁΩÆ
‚îú‚îÄ‚îÄ tsconfig.json              # TypeScript ÈÖçÁΩÆ
‚îî‚îÄ‚îÄ README.md                  # È°πÁõÆËØ¥Êòé
```

## ‚ú® ÁâπÊÄß

### Ê†∏ÂøÉÁâπÊÄß

- üéØ **TypeScript ÊîØÊåÅ** - ÂÆåÊï¥ÁöÑÁ±ªÂûãÂÆâÂÖ®
- üèóÔ∏è **Ê®°ÂùóÂåñÊû∂ÊûÑ** - Ê∏ÖÊô∞ÁöÑ‰ª£Á†ÅÁªÑÁªáÁªìÊûÑ
- üíâ **‰æùËµñÊ≥®ÂÖ•** - ÂÆåÊï¥ÁöÑ IoC ÂÆπÂô®
- üé® **Ë£ÖÈ•∞Âô®** - Âü∫‰∫éË£ÖÈ•∞Âô®ÁöÑÁºñÁ®ãÊ®°Âºè
- üîß **‰ª£Á†ÅËßÑËåÉ** - ESLint + Prettier

### NestJS ÁâπÊÄß

- üõ£Ô∏è **Ë∑ØÁî±Á≥ªÁªü** - Âü∫‰∫éË£ÖÈ•∞Âô®ÁöÑË∑ØÁî±ÂÆö‰πâ
- üõ°Ô∏è **ÂÆàÂç´Á≥ªÁªü** - ËÆ§ËØÅÂíåÊéàÊùÉ
- üîÑ **Êã¶Êà™Âô®** - ËØ∑Ê±Ç/ÂìçÂ∫îÊã¶Êà™
- üìù **ÁÆ°ÈÅì** - Êï∞ÊçÆÈ™åËØÅÂíåËΩ¨Êç¢
- üè™ **ÊúçÂä°** - ‰∏öÂä°ÈÄªËæëÂ∞ÅË£Ö
- üì¶ **Ê®°Âùó** - ÂäüËÉΩÊ®°ÂùóÂåñ

### ÂºÄÂèëÁâπÊÄß

- üîß **ÁÉ≠ÈáçËΩΩ** - ÂºÄÂèëÊó∂Ëá™Âä®ÈáçÊñ∞Âä†ËΩΩ
- üß™ **ÊµãËØïÊîØÊåÅ** - ÂçïÂÖÉÊµãËØïÂíå E2E ÊµãËØï
- üìä **ÊµãËØïË¶ÜÁõñÁéá** - ÂÆåÊï¥ÁöÑÊµãËØïË¶ÜÁõñÁéáÊä•Âëä
- üê≥ **Docker ÊîØÊåÅ** - ÂÆπÂô®ÂåñÈÉ®ÁΩ≤
- üìù **‰ª£Á†ÅËßÑËåÉ** - ESLint + Prettier

## üèóÔ∏è Ê®°ÂùóÂåñÊû∂ÊûÑ

### ÂàõÂª∫Êñ∞Ê®°Âùó

```typescript
// src/users/users.module.ts
import { Module } from '@nestjs/common';
import { UsersController } from './users.controller';
import { UsersService } from './users.service';

@Module({
  controllers: [UsersController],
  providers: [UsersService],
  exports: [UsersService],
})
export class UsersModule {}
```

### ÂàõÂª∫ÊéßÂà∂Âô®

```typescript
// src/users/users.controller.ts
import { Controller, Get, Post, Body, Param } from '@nestjs/common';
import { UsersService } from './users.service';
import { CreateUserDto } from './dto/create-user.dto';

@Controller('users')
export class UsersController {
  constructor(private readonly usersService: UsersService) {}

  @Post()
  create(@Body() createUserDto: CreateUserDto) {
    return this.usersService.create(createUserDto);
  }

  @Get()
  findAll() {
    return this.usersService.findAll();
  }

  @Get(':id')
  findOne(@Param('id') id: string) {
    return this.usersService.findOne(+id);
  }
}
```

### ÂàõÂª∫ÊúçÂä°

```typescript
// src/users/users.service.ts
import { Injectable } from '@nestjs/common';
import { CreateUserDto } from './dto/create-user.dto';

@Injectable()
export class UsersService {
  private users = [];

  create(createUserDto: CreateUserDto) {
    const user = { id: Date.now(), ...createUserDto };
    this.users.push(user);
    return user;
  }

  findAll() {
    return this.users;
  }

  findOne(id: number) {
    return this.users.find((user) => user.id === id);
  }
}
```

### ÂàõÂª∫ DTO

```typescript
// src/users/dto/create-user.dto.ts
export class CreateUserDto {
  name: string;
  email: string;
  age: number;
}
```

## üõ°Ô∏è ÂÆàÂç´Âíå‰∏≠Èó¥‰ª∂

### ÂàõÂª∫ÂÆàÂç´

```typescript
// src/auth/auth.guard.ts
import { Injectable, CanActivate, ExecutionContext } from '@nestjs/common';

@Injectable()
export class AuthGuard implements CanActivate {
  canActivate(context: ExecutionContext): boolean {
    const request = context.switchToHttp().getRequest();
    return this.validateRequest(request);
  }

  private validateRequest(request: any): boolean {
    // ÂÆûÁé∞ËÆ§ËØÅÈÄªËæë
    return true;
  }
}
```

### ÂàõÂª∫‰∏≠Èó¥‰ª∂

```typescript
// src/middleware/logger.middleware.ts
import { Injectable, NestMiddleware } from '@nestjs/common';
import { Request, Response, NextFunction } from 'express';

@Injectable()
export class LoggerMiddleware implements NestMiddleware {
  use(req: Request, res: Response, next: NextFunction) {
    console.log(`${req.method} ${req.path} - ${new Date().toISOString()}`);
    next();
  }
}
```

## üß™ ÊµãËØï

### ÂçïÂÖÉÊµãËØï

```typescript
// src/users/users.service.spec.ts
import { Test, TestingModule } from '@nestjs/testing';
import { UsersService } from './users.service';

describe('UsersService', () => {
  let service: UsersService;

  beforeEach(async () => {
    const module: TestingModule = await Test.createTestingModule({
      providers: [UsersService],
    }).compile();

    service = module.get<UsersService>(UsersService);
  });

  it('should be defined', () => {
    expect(service).toBeDefined();
  });

  it('should create a user', () => {
    const createUserDto = { name: 'John', email: 'john@example.com', age: 30 };
    const user = service.create(createUserDto);
    expect(user).toHaveProperty('id');
    expect(user.name).toBe('John');
  });
});
```

### E2E ÊµãËØï

```typescript
// test/app.e2e-spec.ts
import { Test, TestingModule } from '@nestjs/testing';
import { INestApplication } from '@nestjs/common';
import * as request from 'supertest';
import { AppModule } from './../src/app.module';

describe('AppController (e2e)', () => {
  let app: INestApplication;

  beforeEach(async () => {
    const moduleFixture: TestingModule = await Test.createTestingModule({
      imports: [AppModule],
    }).compile();

    app = moduleFixture.createNestApplication();
    await app.init();
  });

  it('/ (GET)', () => {
    return request(app.getHttpServer())
      .get('/')
      .expect(200)
      .expect('Hello World!');
  });
});
```

## üê≥ Docker ÈÉ®ÁΩ≤

### ÂºÄÂèëÁéØÂ¢É

```bash
# ÂêØÂä®Êï∞ÊçÆÂ∫ìÊúçÂä°
pnpm docker:db

# ÂêØÂä®Â∫îÁî®ÔºàÈúÄË¶ÅÂÖàÊûÑÂª∫Ôºâ
pnpm docker:app
```

### Áîü‰∫ßÁéØÂ¢É

```dockerfile
# Dockerfile
FROM node:18-alpine

WORKDIR /app

COPY package*.json ./
RUN pnpm install

COPY . .
RUN pnpm build

EXPOSE 9310

CMD ["pnpm", "start:prod"]
```

### Docker Compose ÈÖçÁΩÆ

```yaml
# docker-compose.yml
version: '3.8'

services:
  app:
    build: .
    ports:
      - '9310:9310'
    environment:
      - NODE_ENV=production
    depends_on:
      - mariadb
      - redis

  mariadb:
    image: mariadb:11.3
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: nestdb
    ports:
      - '9306:3306'

  redis:
    image: redis:7.2-alpine
    ports:
      - '9379:6379'
```

## üîß ÈÖçÁΩÆÁÆ°ÁêÜ

### ÁéØÂ¢ÉÂèòÈáè

```typescript
// src/config/configuration.ts
export default () => ({
  port: parseInt(process.env.PORT, 10) || 9310,
  database: {
    host: process.env.DATABASE_HOST || 'localhost',
    port: parseInt(process.env.DATABASE_PORT, 10) || 3306,
    username: process.env.DATABASE_USERNAME || 'root',
    password: process.env.DATABASE_PASSWORD || 'password',
    database: process.env.DATABASE_NAME || 'nestdb',
  },
  redis: {
    host: process.env.REDIS_HOST || 'localhost',
    port: parseInt(process.env.REDIS_PORT, 10) || 6379,
  },
});
```

### ÈÖçÁΩÆÊ®°Âùó

```typescript
// src/config/config.module.ts
import { Module } from '@nestjs/common';
import { ConfigModule } from '@nestjs/config';
import configuration from './configuration';

@Module({
  imports: [
    ConfigModule.forRoot({
      load: [configuration],
      isGlobal: true,
    }),
  ],
})
export class ConfigModule {}
```

## üöÄ Âø´ÈÄüÂºÄÂßã

1. **ÂÖãÈöÜÈ°πÁõÆ**

   ```bash
   git clone <repository-url>
   cd nest-template
   ```

2. **ÂÆâË£Ö‰æùËµñ**

   ```bash
   pnpm install
   ```

3. **ÂêØÂä®ÂºÄÂèëÊúçÂä°Âô®**

   ```bash
   pnpm dev:watch
   ```

4. **ËÆøÈóÆÂ∫îÁî®**
   - ÊâìÂºÄ http://localhost:9310
   - Êü•Áúã API ÂìçÂ∫î

5. **ËøêË°åÊµãËØï**

   ```bash
   pnpm test
   ```

6. **ÂêØÂä® Docker ÊúçÂä°**
   ```bash
   pnpm docker:up
   ```

## üìÑ ËÆ∏ÂèØËØÅ

MIT License
