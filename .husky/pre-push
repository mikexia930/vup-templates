#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ç”Ÿæˆ apps åˆ—è¡¨
echo "ğŸ”„ æ­£åœ¨ç”Ÿæˆæœ€æ–°çš„ apps åˆ—è¡¨..."
node .husky/scripts/generate-apps-list.js

# å°†ç”Ÿæˆçš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº
git add .template.config.json

# å¦‚æœæœ‰æ–°çš„å˜æ›´ï¼Œåˆå¹¶åˆ°å½“å‰ commit
if [ -n "$(git diff --cached --name-only)" ]; then
  echo "ğŸ“ å°† .template.config.json æ›´æ–°åˆå¹¶åˆ°å½“å‰ commit..."
  git commit --amend --no-edit --no-verify
fi